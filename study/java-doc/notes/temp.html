<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>构建工具 | XieのBlog</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/study/img/favicon.ico">
    <meta name="description" content="XieのGit博客">
    
    <link rel="preload" href="/study/assets/css/0.styles.71854f14.css" as="style"><link rel="preload" href="/study/assets/js/app.d7609319.js" as="script"><link rel="preload" href="/study/assets/js/2.57c00233.js" as="script"><link rel="preload" href="/study/assets/js/33.6fa7fdb7.js" as="script"><link rel="prefetch" href="/study/assets/js/10.31f82ad4.js"><link rel="prefetch" href="/study/assets/js/11.fd0f8584.js"><link rel="prefetch" href="/study/assets/js/12.fa837f3a.js"><link rel="prefetch" href="/study/assets/js/13.e344df29.js"><link rel="prefetch" href="/study/assets/js/14.f24bb019.js"><link rel="prefetch" href="/study/assets/js/15.bd8f0786.js"><link rel="prefetch" href="/study/assets/js/16.ccd6de67.js"><link rel="prefetch" href="/study/assets/js/17.8798057d.js"><link rel="prefetch" href="/study/assets/js/18.ab590710.js"><link rel="prefetch" href="/study/assets/js/19.2dc62cbd.js"><link rel="prefetch" href="/study/assets/js/20.3f0dda2a.js"><link rel="prefetch" href="/study/assets/js/21.c73edacd.js"><link rel="prefetch" href="/study/assets/js/22.1a5346c5.js"><link rel="prefetch" href="/study/assets/js/23.199defb4.js"><link rel="prefetch" href="/study/assets/js/24.60f53459.js"><link rel="prefetch" href="/study/assets/js/25.37add50f.js"><link rel="prefetch" href="/study/assets/js/26.162b02d6.js"><link rel="prefetch" href="/study/assets/js/27.fa118407.js"><link rel="prefetch" href="/study/assets/js/28.7e337a24.js"><link rel="prefetch" href="/study/assets/js/29.5fcd23cb.js"><link rel="prefetch" href="/study/assets/js/3.941c99e3.js"><link rel="prefetch" href="/study/assets/js/30.c23876d6.js"><link rel="prefetch" href="/study/assets/js/31.fa2e04b8.js"><link rel="prefetch" href="/study/assets/js/32.2342a294.js"><link rel="prefetch" href="/study/assets/js/34.461a2a85.js"><link rel="prefetch" href="/study/assets/js/4.09fd2c39.js"><link rel="prefetch" href="/study/assets/js/5.fc791712.js"><link rel="prefetch" href="/study/assets/js/6.ffe6f60a.js"><link rel="prefetch" href="/study/assets/js/7.4bcf017a.js"><link rel="prefetch" href="/study/assets/js/8.1fee1df0.js"><link rel="prefetch" href="/study/assets/js/9.855cf5d6.js">
    <link rel="stylesheet" href="/study/assets/css/0.styles.71854f14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study/" class="home-link router-link-active"><!----> <span class="site-name">XieのBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/study/hrp-doc/" class="nav-link">
  绩效考核系统
</a></div><div class="nav-item"><a href="/study/java-doc/" class="nav-link router-link-active">
  Java学习
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/study/hrp-doc/" class="nav-link">
  绩效考核系统
</a></div><div class="nav-item"><a href="/study/java-doc/" class="nav-link router-link-active">
  Java学习
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java学习文档</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/java-doc/notes/javase.html" class="sidebar-link">Java SE</a></li><li><a href="/study/java-doc/notes/javacontainer.html" class="sidebar-link">Java 容器</a></li><li><a href="/study/java-doc/notes/javaconcurrency.html" class="sidebar-link">Java 并发</a></li><li><a href="/study/java-doc/notes/javavirtual.html" class="sidebar-link">Java 虚拟机</a></li><li><a href="/study/java-doc/notes/javaio.html" class="sidebar-link">Java I/O</a></li><li><a href="/study/java-doc/notes/javaee.html" class="sidebar-link">Java EE</a></li><li><a href="/study/java-doc/notes/ssm.html" class="sidebar-link">SSM 框架</a></li><li><a href="/study/java-doc/notes/springboot.html" class="sidebar-link">Spring Boot</a></li><li><a href="/study/java-doc/notes/springcloud.html" class="sidebar-link">Spring Cloud</a></li><li><a href="/study/java-doc/notes/linux.html" class="sidebar-link">Linux</a></li><li><a href="/study/java-doc/notes/tool.html" class="sidebar-link">工具</a></li><li><a href="/study/java-doc/notes/extend.html" class="sidebar-link">扩展学习</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="构建工具"><a href="#构建工具" class="header-anchor">#</a> 构建工具</h2> <ul><li><a href="#%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7">构建工具</a> <ul><li><a href="#%E4%B8%80%E3%80%81%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%9C%E7%94%A8">一、构建工具的作用</a></li> <li><a href="#%E4%BA%8C%E3%80%81java-%E4%B8%BB%E6%B5%81%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7">二、Java 主流构建工具</a></li> <li><a href="#%E4%B8%89%E3%80%81maven">三、Maven</a></li> <li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99(%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7)">参考资料</a></li></ul></li></ul> <h3 id="一、构建工具的作用"><a href="#一、构建工具的作用" class="header-anchor">#</a> 一、构建工具的作用</h3> <p>构建一个项目通常包含了依赖管理、测试、编译、打包、发布等流程，构建工具可以自动化进行这些操作，从而为我们减少这些繁琐的工作。</p> <p>其中构建工具提供的依赖管理能够可以自动处理依赖关系。例如一个项目需要用到依赖 A，A 又依赖于 B，那么构建工具就能帮我们导入 B，而不需要我们手动去寻找并导入。</p> <p>在 Java 项目中，打包流程通常是将项目打包成 Jar 包。在没有构建工具的情况下，我们需要使用命令行工具或者 IDE 手动打包。而发布流程通常是将 Jar 包上传到服务器上。</p> <h3 id="二、java-主流构建工具"><a href="#二、java-主流构建工具" class="header-anchor">#</a> 二、Java 主流构建工具</h3> <p>Ant 具有编译、测试和打包功能，其后出现的 Maven 在 Ant 的功能基础上又新增了依赖管理功能，而最新的 Gradle 又在 Maven 的功能基础上新增了对 Groovy 语言的支持。</p> <div align="center"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191208204118932.png"></div><br> <p>Gradle 和 Maven 的区别是，它使用 Groovy 这种特定领域语言（DSL）来管理构建脚本，而不再使用 XML 这种标记性语言。因为项目如果庞大的话，XML 很容易就变得臃肿。</p> <p>例如要在项目中引入 Junit，Maven 的代码如下：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jizg.study.maven.hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hello-first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>而 Gradle 只需要几行代码：</p> <div class="language-java extra-class"><pre class="language-java"><code>dependencies <span class="token punctuation">{</span>
    testCompile <span class="token string">&quot;junit:junit:4.10&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="三、maven"><a href="#三、maven" class="header-anchor">#</a> 三、Maven</h3> <h4 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h4> <p>提供了项目对象模型（POM）文件来管理项目的构建。</p> <h4 id="仓库"><a href="#仓库" class="header-anchor">#</a> 仓库</h4> <p>仓库的搜索顺序为：本地仓库、中央仓库、远程仓库。</p> <ul><li>本地仓库用来存储项目的依赖库；</li> <li>中央仓库是下载依赖库的默认位置；</li> <li>远程仓库，因为并非所有的依赖库都在中央仓库，或者中央仓库访问速度很慢，远程仓库是中央仓库的补充。</li></ul> <h4 id="pom"><a href="#pom" class="header-anchor">#</a> POM</h4> <p>POM 代表项目对象模型，它是一个 XML 文件，保存在项目根目录的 pom.xml 文件中。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>[groupId, artifactId, version, packaging, classifier] 称为一个项目的坐标，其中 groupId、artifactId、version 必须定义，packaging 可选（默认为 Jar），classifier 不能直接定义的，需要结合插件使用。</p> <ul><li>groupId：项目组 Id，必须全球唯一；</li> <li>artifactId：项目 Id，即项目名；</li> <li>version：项目版本；</li> <li>packaging：项目打包方式。</li></ul> <h4 id="依赖原则"><a href="#依赖原则" class="header-anchor">#</a> 依赖原则</h4> <h5 id="_1-依赖路径最短优先原则"><a href="#_1-依赖路径最短优先原则" class="header-anchor">#</a> 1. 依赖路径最短优先原则</h5> <div class="language-html extra-class"><pre class="language-html"><code>A -&gt; B -&gt; C -&gt; X(1.0)
A -&gt; D -&gt; X(2.0)
</code></pre></div><p>由于 X(2.0) 路径最短，所以使用 X(2.0)。</p> <h5 id="_2-声明顺序优先原则"><a href="#_2-声明顺序优先原则" class="header-anchor">#</a> 2. 声明顺序优先原则</h5> <div class="language-html extra-class"><pre class="language-html"><code>A -&gt; B -&gt; X(1.0)
A -&gt; C -&gt; X(2.0)
</code></pre></div><p>在 POM 中最先声明的优先，上面的两个依赖如果先声明 B，那么最后使用 X(1.0)。</p> <h5 id="_3-覆写优先原则"><a href="#_3-覆写优先原则" class="header-anchor">#</a> 3. 覆写优先原则</h5> <p>子 POM 内声明的依赖优先于父 POM 中声明的依赖。</p> <h4 id="解决依赖冲突"><a href="#解决依赖冲突" class="header-anchor">#</a> 解决依赖冲突</h4> <p>找到 Maven 加载的 Jar 包版本，使用 <code>mvn dependency:tree</code> 查看依赖树，根据依赖原则来调整依赖在 POM 文件的声明顺序。</p> <h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h3> <ul><li><a href="http://maven.apache.org/pom.html#Dependency_Version_Requirement_Specification" target="_blank" rel="noopener noreferrer">POM Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://stackoverflow.com/questions/7249871/what-is-a-build-tool" target="_blank" rel="noopener noreferrer">What is a build tool?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://programmingmitra.blogspot.com/2016/05/java-build-tools-comparisons-ant-vs.html" target="_blank" rel="noopener noreferrer">Java Build Tools Comparisons: Ant vs Maven vs Gradle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://sagioto.github.io/maven2gradle/" target="_blank" rel="noopener noreferrer">maven 2 gradle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.imooc.com/learn/833" target="_blank" rel="noopener noreferrer">新一代构建工具 gradle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/study/assets/js/app.d7609319.js" defer></script><script src="/study/assets/js/2.57c00233.js" defer></script><script src="/study/assets/js/33.6fa7fdb7.js" defer></script>
  </body>
</html>
